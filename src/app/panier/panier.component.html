<img id="logoAbstract" class="dropShadow" src="../../assets/images/FestCarAbstract.png" alt="FestiCarAbstract"/>

<div class="container">
    <div class="card centered shadow overflow">
        <div class="panier" *ngIf="this.obsPanier$ | async as panier ; else vide">
            <div class="title">
                Mon Panier
            </div>
            <div class="scrollbar">
            <!-- <div *ngFor="let panierEtape of panierEtapes; let i index"> -->
                <div class="separatorX"></div>
                <header>
                    Mon covoit pour le festival machin
                </header>
                <div class="separatorX"></div>

                <table class="table">
                    
                    <tr>
                        <th>Date</th>
                        <th>Heure</th>
                        <th>Lieu RDV</th>
                        <th>Conducteur</th>
                        <th>Noms des festivaliers</th>
                    </tr>
                    <tr>                    
                        <td>{{panier.datePaiement | date:'yyyy-MM-dd'}}</td>
                        <td>{{panier.datePaiement | date:'HH:MM'}}</td>
                        <td>109 Batiment F UFR im2ag</td>
                        <td>{{panier.idProprietaire.nom}}</td>
                        <td>
                            <ul>
                                <li *ngFor="let festivalier of this.listFestivaliers">{{festivalier}}</li>
                            </ul>
                        </td>
                    </tr>
                </table>
                <ul class="mobile">
                    <li>Date : {{panier.datePaiement | date:'yyyy-MM-dd'}}</li>
                    <li>Heure : {{panier.datePaiement | date:'HH:MM'}}</li>
                    <li>Lieu : 109 Batiment F UFR im2ag</li>
                    <li>Conducteur : Yves Ledru</li>
                    <li>Noms des festivaliers : 
                    <ul>
                        <li *ngFor="let festivalier of this.listFestivaliers">{{festivalier}}</li>
                    </ul>
                </ul>
                <div class="moreInfos">
                    <div class="wrap-collabsible">
                        <input id="collapsible" class="toggle" type="checkbox">
                        <label for="collapsible" class="lbl-toggle">Détail des étapes</label>
                        <div class="collapsible-content">
                            <div class="content-inner">
                                <table class="tableEtape">
                                    <tr>
                                        <th>Etape</th>
                                        <th>Adresse</th>
                                        <th>Durée depuis départ</th>
                                    </tr>
                                    <tr>
                                        <td>Etape 1</td>
                                        <td>109 Batiment F UFR im2ag</td>
                                        <td>120</td>
                                    </tr>
                                    <tr>
                                        <td>Etape 2</td>
                                        <td>107 Batiment F UFR im2ag</td>
                                        <td>500</td>
                                    </tr>
                                    <tr>
                                        <td>Etape 3</td>
                                        <td>320 Batiment F UFR im2ag</td>
                                        <td>500</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            <!-- </div> -->
            </div>
            <footer>
                <span class="title">Prix total : 100.98 €</span>
                <button class="CTA1 shadow" type="button" (click)="this.bsPaiement.next(true)">Payer</button>
            </footer>
        </div>

        <ng-template #vide>
            <div class="title">
                Panier vide
            </div>
        </ng-template>

    </div>

    <div class="card centered shadow popup" *ngIf="this.bsPaiement.value === true">
        Souhaitez-vous effectuer le paiement de 100 dollars ?

        <div class="response">
            <button class="CTA1 shadow" type="button" (click)="this.bsPaiement.next(false)">Payer</button>
            <button class="CTA2 shadow" type="button" (click)="this.bsPaiement.next(false)">Annuler</button>
        </div>
        
    </div>
</div>


